<xml>
    <pragma once="true" />

    <files id="haxe">
        <compilerflag value="-I${haxelib:hxsdl}/vendor/include/sdl2" />
        <compilerflag value="-I${haxelib:hxsdl}/vendor/include/sdl2_image" />
        <compilerflag value="-I${haxelib:hxsdl}/vendor/include/sdl2_ttf" />
        <compilerflag value="-I${haxelib:hxsdl}" />
    </files>
    
    <files id="__main__">
        <compilerflag value="-I${haxelib:hxsdl}/vendor/include/sdl2" />
        <compilerflag value="-I${haxelib:hxsdl}/vendor/include/sdl2_image" />
        <compilerflag value="-I${haxelib:hxsdl}/vendor/include/sdl2_ttf" />
        <compilerflag value="-I${haxelib:hxsdl}" />
    </files>

    <section if="windows">
        <copyFile name="SDL2.dll" from="${haxelib:hxsdl}/vendor/lib/x64/sdl2" toolId="exe" overwrite="true" />
        <copyFile name="SDL2_image.dll" from="${haxelib:hxsdl}/vendor/lib/x64/sdl2_image" toolId="exe" overwrite="true" />
        <copyFile name="SDL2_ttf.dll" from="${haxelib:hxsdl}/vendor/lib/x64/sdl2_ttf" toolId="exe" overwrite="true" />
    </section>

    <target id="haxe">
        <section if="windows">
            <libpath name="${haxelib:hxsdl}/vendor/lib/x64" if="HXCPP_M64" />
            <libpath name="${haxelib:hxsdl}/vendor/lib/x86" unless="HXCPP_M64" />

            <lib name="sdl2/SDL2.lib" />
            <lib name="sdl2_image/SDL2_image.lib" />
            <lib name="sdl2_ttf/SDL2_ttf.lib" />

            <lib name="winmm.lib" if="windows" />
        </section>

        <section if="linux || android">
            <lib name="-lSDL2" />
            <lib name="-lSDL2_image" />
            <lib name="-lSDL2_ttf" />
        </section>

        <section if="macos || ios">
            <vflag name="-framework" value="OpenGL" />
            <vflag name="-framework" value="Cocoa" />
        </section>
    </target>
</xml>