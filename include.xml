<xml>
    <pragma once="true" />

    <set name="LIBRARY_DIR" value="${this_dir}/" />

    <files id="haxe">
        <compilerflag value="-I${LIBRARY_DIR}/vendor/include/" />
        <compilerflag value="-I${LIBRARY_DIR}" />
    </files>
    
    <files id="__main__">
        <compilerflag value="-I${LIBRARY_DIR}/vendor/include/" />
        <compilerflag value="-I${LIBRARY_DIR}" />
    </files>

    <section if="windows">
        <copyFile name="SDL2.dll" from="${LIBRARY_DIR}vendor/lib/x64/sdl2" toolId="exe" overwrite="true" />
        <copyFile name="SDL2_image.dll" from="${LIBRARY_DIR}vendor/lib/x64/sdl2_image" toolId="exe" overwrite="true" />
        <copyFile name="SDL2_ttf.dll" from="${LIBRARY_DIR}vendor/lib/x64/sdl2_ttf" toolId="exe" overwrite="true" />
    </section>

    <target id="haxe">
        <section if="windows">
            <libpath name="${LIBRARY_DIR}vendor/lib/x64" />

            <lib name="sdl2/SDL2.lib" />
            <lib name="sdl2_image/SDL2_image.lib" />
            <lib name="sdl2_ttf/SDL2_ttf.lib" />

            <lib name="winmm.lib" if="windows" />
        </section>

        <section if="linux || android">
            <lib name="-lSDL2" />
            <lib name="-lSDL2_image" />
            <lib name="-lSDL2_ttf" />
        </section>

        <section if="macos || ios">
            <vflag name="-framework" value="OpenGL" />
            <vflag name="-framework" value="Cocoa" />
        </section>
    </target>
</xml>